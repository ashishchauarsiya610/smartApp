<ion-header>
  <ion-toolbar style="--background: rgb(245, 248, 248); ">
    <ion-buttons slot="start" style="position:absolute">
      <ion-back-button defaultHref="/mainpage" (click)="backbutton()" style="color: black;"></ion-back-button>
    </ion-buttons>
    <ion-title style="text-align: center; color: black;">
      select module for guest
    </ion-title>   
  </ion-toolbar>
</ion-header>
<ion-content style="--background: #f7f4fae6;">
  <div >
  <ion-card *ngFor="let dmodule of devicemodule" (click)="gotowifipage(dmodule.id)">
    <ion-item>
  <ion-avatar slot="start">
    <img src="../../../assets/product_image/triomodule.jpeg">
  </ion-avatar>
  <ion-label>
    <p >{{dmodule.name}}</p>    
    <p >{{dmodule.pi_id}}</p>      
  </ion-label>
    </ion-item>
  </ion-card>
</div>

<ion-card *ngFor="let imodule of irmodule" (click)="gotowifipage(imodule.id)">
  <ion-item>
<ion-avatar slot="start">
  <img src="../../../assets/product_image/IRBlaster.png">
</ion-avatar>
<ion-label>
  <p >{{imodule.name}}</p>    
  <p >{{imodule.pi_id}}</p>      
</ion-label>
  </ion-item>
</ion-card>

<ion-card *ngFor="let mmodule of user.moodModule" (click)="gotowifipage(mmodule.id)">
  <ion-item >
<ion-avatar slot="start">
  <img src="../../../assets/product_image/mood.png">
</ion-avatar>
<ion-label>
  <p >{{mmodule.name}}</p>    
  <p >{{mmodule.pi_id}}</p>      
</ion-label>
  </ion-item>
</ion-card>

<ion-card *ngFor="let lmodule of lockres" (click)="gotowifipage(lmodule.id)">
  <ion-list>
  <ion-item>
<ion-avatar slot="start">
  <img src="../../../assets/product_image/doorlock.png">
</ion-avatar>
<ion-label>
  <p >Door Lock</p>    
  <p >{{lmodule.serial_number}}</p>      
</ion-label>
  </ion-item>
</ion-list>
</ion-card>
<!-- <div *ngIf="user.module_qrbutton">
  <ion-button expand="full" color="light" style="margin: auto 11px;" (click)="addnewModule()">Add New Module <ion-icon slot="end" name="arrow-dropright"></ion-icon> </ion-button>
</div>
<div *ngIf="user.lock_qrbutton">
  <ion-button expand="full" color="light" style="margin: auto 11px;" (click)="locksetup()">Add New Lock <ion-icon slot="end" name="arrow-dropright"></ion-icon> </ion-button>
</div> -->

<div class="guestpopup" *ngIf='guestEmail'>
  <ion-card style="border-radius: 21px;top: 15%;">
    <ion-list>
      <ion-item>
        <ion-label><p>You have to enter your valid email.</p></ion-label>
        <ion-icon name='close' slot="end" color="dark" (click)='guestEmail=!guestEmail'></ion-icon>
      </ion-item>
      <form #userForm='ngForm' (ngSubmit)='onSubmit(userForm.value)'>
      <ion-item>
        <ion-input id='guestemail' type='email' placeholder='Enter valid email-id.' class="form-control" name='email' required email='ngModel' ngModel  pattern="[A-Za-z0-9._%+-]{3,}@[a-zA-Z]{3,}([.]{1}[a-zA-Z]{2,}|[.]{1}[a-zA-Z]{2,}[.]{1}[a-zA-Z]{2,})"></ion-input>
      </ion-item>
      
      <div style="text-align: center;text-transform: uppercase;"><ion-button color='dark' size='small' type='submit' style="margin-top: 15px;" [disabled]='userForm.invalid'>&nbsp;&nbsp;Submit&nbsp;&nbsp;</ion-button></div>
    </form>
    </ion-list>
  </ion-card>
</div>
</ion-content>